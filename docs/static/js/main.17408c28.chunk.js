(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{108:function(e,a,t){e.exports=t(234)},232:function(e,a,t){e.exports=t.p+"static/media/logo.fd873979.svg"},233:function(e,a,t){},234:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),l=t(10),c=t(11),o=t(13),s=t(12),i=t(5),m=t(8),u=t(22),p=t.n(u),d=t(34),E=t(50),f=t.n(E),h=f.a.create({baseURL:"".concat("https://twstartups.herokuapp.com"),"Access-Control-Allow-Origin":"*"}),v=f.a.create({baseURL:"".concat("https://twstartups.herokuapp.com","/candidate"),"Access-Control-Allow-Origin":"*"}),b=t(16),g=Object(b.b)(),y=function(){return{type:"ERR_MSG_RESET"}},N=t(236),O=t(235),w=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(l.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=a.call.apply(a,[this].concat(c))).onSubmit=function(a){console.log(a);var t=Object(i.a)(Object(i.a)({},a),{},{type:"normal"});console.log(t),e.props.signUp(t)},e.renderError=function(e){var a=e.error,t=e.touched,r=e.active;if(t&&a)return!r&&a.confirmPassword,n.a.createElement("div",{className:"ui error message"},n.a.createElement("div",{className:"header"},a))},e.renderServerErr=function(){if(e.props.errMsg)return n.a.createElement("div",{className:"ui error message"},n.a.createElement("div",{className:"header"},e.props.errMsg))},e.renderInput=function(a){var t=a.tag,r=a.input,l=a.label,c=a.placeholder,o=a.meta,s=a.type,i="required field";return o.error&&o.touched&&(i="field error"),"refer"===t&&(i="field"),console.log(i),n.a.createElement("div",{className:i},n.a.createElement("label",null,l),n.a.createElement("input",Object.assign({},r,{placeholder:c,autoComplete:"off",type:s})),e.renderError(o))},e.renderOptions=function(){if(e.props.formValues&&e.props.formValues.values){var a=e.props.formValues.values.referral;if("social_media"===a)return n.a.createElement(n.a.Fragment,null,n.a.createElement("label",null,n.a.createElement(N.a,{name:"referral_notes",component:"input",type:"radio",value:"Facebook",tag:"refer"})," ","Facebook"),n.a.createElement("label",null,n.a.createElement(N.a,{name:"referral_notes",component:"input",type:"radio",value:"LinkedIn",tag:"refer"})," ","LinkedIn"),n.a.createElement("label",null,n.a.createElement(N.a,{name:"referral_notes",component:"input",type:"radio",value:"Other",tag:"refer"})," ","Other"));if("accelerator"===a)return n.a.createElement(n.a.Fragment,null,n.a.createElement(N.a,{name:"referral_notes",component:e.renderInput,type:"text",label:"please put the name of the accelerator",tag:"refer"}));if("VC"===a)return n.a.createElement(n.a.Fragment,null,n.a.createElement(N.a,{name:"referral_notes",component:e.renderInput,type:"text",tag:"refer",label:"please put the name of the VC"}));if("friend"===a)return n.a.createElement(n.a.Fragment,null,n.a.createElement(N.a,{name:"referral_notes",component:e.renderInput,type:"text",label:"please put the name",tag:"refer"}));if("other"===a)return n.a.createElement(n.a.Fragment,null,n.a.createElement(N.a,{name:"referral_notes",component:"textarea",tag:"refer",label:"Please specific the information."}))}},e}return Object(c.a)(t,[{key:"componentWillUnmount",value:function(){this.props.errMsgReset()}},{key:"render",value:function(){return n.a.createElement("div",{className:"signup"},n.a.createElement("div",{className:"ui grid container "},n.a.createElement("div",{className:"three column row"},n.a.createElement("div",{className:"column"}),n.a.createElement("div",{className:"column"},n.a.createElement("form",{className:"ui form error",onSubmit:this.props.handleSubmit(this.onSubmit)},n.a.createElement("div",{className:"ui huge header"},"Signup"),n.a.createElement(N.a,{name:"email",component:this.renderInput,label:"Email",placeholder:"Email",type:"email"}),n.a.createElement(N.a,{name:"password",component:this.renderInput,label:"Password",placeholder:"Password",type:"password"}),n.a.createElement(N.a,{name:"confirmPassword",component:this.renderInput,label:"Confirm Password",placeholder:"Confirm Password",type:"password"}),n.a.createElement("div",{className:"ui small header"},"Referrals (optional)"),n.a.createElement(N.a,{name:"referral",component:"select"},n.a.createElement("option",null),n.a.createElement("option",{value:"social_media"},"Social Media"),n.a.createElement("option",{value:"accelerator"},"Accelerator"),n.a.createElement("option",{value:"VC"},"VC"),n.a.createElement("option",{value:"friend"},"Friend"),n.a.createElement("option",{value:"other"},"Other")),this.renderOptions(),n.a.createElement("button",{className:"ui button",type:"submit"},"Sign up"),this.renderServerErr())),n.a.createElement("div",{className:"column"})),n.a.createElement("div",{className:"three column row"},n.a.createElement("div",{className:"column"}),n.a.createElement("div",{className:"column"},n.a.createElement("div",{className:"ui divider"})),n.a.createElement("div",{className:"column"}))))}}]),t}(n.a.Component),j=Object(O.a)({form:"signUp",validate:function(e){var a={};return e.email||(a.email="You must enter an email."),e.password||(a.password="You must enter an password."),e.confirmPassword||(a.confirmPassword="Please confirm the password above."),e.password&&e.confirmPassword&&e.password!==e.confirmPassword&&(a.confirmPassword="Please make sure your password match."),a}})(w),_=Object(m.b)((function(e){var a=e.user,t=e.form;return{user:a,errMsg:a.errMsg,formValues:t.signUp}}),{signUp:function(e){return function(){var a=Object(d.a)(p.a.mark((function a(t){var r;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,h.post("./signup",{formValues:e});case 3:r=a.sent,t({type:"SIGN_UP",payload:r.data}),g.push("/"),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),t({type:"SIGN_UP",payload:{err:a.t0.response.data.message}});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},errMsgReset:y})(j),C=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(l.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=a.call.apply(a,[this].concat(c))).onSubmit=function(a){e.props.logIn(a)},e.renderError=function(e){var a=e.error;if(e.touched&&a)return n.a.createElement("div",{className:"ui error message"},n.a.createElement("div",{className:"header"},a))},e.renderServerErr=function(){if(e.props.errMsg)return n.a.createElement("div",{className:"ui error message"},n.a.createElement("div",{className:"header"},e.props.errMsg))},e.renderInput=function(a){var t=a.input,r=a.label,l=a.placeholder,c=a.meta,o=a.type,s="required field ".concat(c.error&&c.touched?"error":"");return console.log("meta",c),n.a.createElement("div",{className:s},n.a.createElement("label",null,r),n.a.createElement("input",Object.assign({},t,{placeholder:l,autoComplete:"off",type:o})),e.renderError(c))},e}return Object(c.a)(t,[{key:"componentWillUnmount",value:function(){this.props.errMsgReset()}},{key:"render",value:function(){return console.log(this.props),n.a.createElement("div",{className:"login"},n.a.createElement("div",{className:"ui grid container "},n.a.createElement("div",{className:"three column row"},n.a.createElement("div",{className:"column"}),n.a.createElement("div",{className:"column"},n.a.createElement("form",{className:"ui form error",onSubmit:this.props.handleSubmit(this.onSubmit)},n.a.createElement("div",{className:"ui huge header"},"Log in"),n.a.createElement(N.a,{name:"email",component:this.renderInput,label:"Email",placeholder:"Email",type:"email"}),n.a.createElement(N.a,{name:"password",component:this.renderInput,label:"Password",placeholder:"Password",type:"password"}),n.a.createElement("button",{className:"ui button",type:"submit"},"Log in"),this.renderServerErr())),n.a.createElement("div",{className:"column"})),n.a.createElement("div",{className:"three column row"},n.a.createElement("div",{className:"column"}),n.a.createElement("div",{className:"column"},n.a.createElement("div",{className:"ui divider"})),n.a.createElement("div",{className:"column"}))))}}]),t}(n.a.Component),k=Object(O.a)({form:"logIn",validate:function(e){var a={};return e.email||(a.email="You must enter an email."),e.password||(a.password="You must enter an password."),a}})(C),S=Object(m.b)((function(e){var a=e.user;return{user:a,errMsg:a.errMsg}}),{logIn:function(e){return function(){var a=Object(d.a)(p.a.mark((function a(t){var r;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,h.post("./login",{formValues:e});case 3:r=a.sent,t({type:"LOG_IN",payload:r.data}),g.push("/"),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0.response.data.message),t({type:"LOG_IN",payload:{err:a.t0.response.data.message}});case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},errMsgReset:y})(k),I=function(){return n.a.createElement("div",null,n.a.createElement("h2",null,"This is Dashboard"))},M=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("h2",null,"This is CompanyList"),n.a.createElement("div",null,this.props.email?this.props.email:"no email"))}}]),t}(n.a.Component),x=Object(m.b)((function(e){return{email:e.user.email}}))(M),P=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"apply-confirm"},n.a.createElement("div",{className:"ui grid container"},n.a.createElement("div",{className:"five wide column"}),n.a.createElement("div",{className:"six wide column"},n.a.createElement("div",{className:"ui medium header"},"Your application is confirmed."),n.a.createElement("div",{className:"confirm-text"},"We will send email to:",n.a.createElement("br",null),this.props.candidate.email," ",n.a.createElement("br",null),"after the application is approved."),n.a.createElement("button",{className:"ui button",onClick:function(){return g.push("/")}},"Back to Home")),n.a.createElement("div",{className:"five wide column"})))}}]),t}(n.a.Component),R=Object(m.b)((function(e){return{candidate:e.candidate}}))(P),A=t(21),F=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(l.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=a.call.apply(a,[this].concat(c))).renderCandiRow=function(){return e.props.candidates.map((function(e){return n.a.createElement("tr",null,n.a.createElement("td",null,e.company_name_en),n.a.createElement("td",null,e.company_name_chi),n.a.createElement("td",null,n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.website,style:{cursor:"pointer"}},e.website)),n.a.createElement("td",null,n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.news,style:{cursor:"pointer"}},e.news)),n.a.createElement("td",null,n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.other,style:{cursor:"pointer"}},e.other)),n.a.createElement("td",null,e.applicant_email),e.approve_status?n.a.createElement("td",null,n.a.createElement("div",{class:"ui small button"},"Approve")):n.a.createElement("td",null,"Approved"))}))},e.renderCandidates=function(){return console.log(e.props.candidates),n.a.createElement("table",{className:"ui collapsing unstackable table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Company Name"),n.a.createElement("th",null,"\u516c\u53f8\u540d\u7a31"),n.a.createElement("th",null,"Website"),n.a.createElement("th",null,"News/Media"),n.a.createElement("th",null,"Other Material"),n.a.createElement("th",null,"Contact Email"),n.a.createElement("th",null,"Status"))),n.a.createElement("tbody",null,e.props.candidates&&e.renderCandiRow()))},e.renderReturnBtn=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"ui container"},n.a.createElement("div",{className:"ui medium header"},"This page required admin access. Please log in as admin or go back to home page."),n.a.createElement(A.b,{to:"/",className:"ui button primary"},"Back to home")))},e}return Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchCandis()}},{key:"render",value:function(){return n.a.createElement("div",{className:"admin-dashboard"},this.props.errMsg?this.renderReturnBtn():n.a.createElement("div",{className:"ui"},this.renderCandidates()))}}]),t}(n.a.Component),L=Object(m.b)((function(e){var a=e.candidate;return{candidates:a.candidates,errMsg:a.errMsg}}),{fetchCandis:function(){return function(){var e=Object(d.a)(p.a.mark((function e(a){var t,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,v.get("/all/".concat(t));case 4:r=e.sent,console.log(r),a({type:"FETCH_CANDIS",payload:r.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:"FETCH_CANDIS",payload:{err:e.t0.response.data.message}});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}()}})(F),U=function(e){Object(o.a)(r,e);var a=Object(s.a)(r);function r(){var e;Object(l.a)(this,r);for(var t=arguments.length,c=new Array(t),o=0;o<t;o++)c[o]=arguments[o];return(e=a.call.apply(a,[this].concat(c))).handleLogOut=function(){e.props.logOut()},e.renderNav=function(){return e.props.email?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"item"},n.a.createElement(A.b,{className:"ui button primary",to:"/apply"},"Add a Company")),n.a.createElement("div",{className:"item"},n.a.createElement("div",{className:"ui button secondary",onClick:e.handleLogOut},"Log out"))):e.props.company?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"item"},n.a.createElement(A.b,{className:"ui button primary",to:"/dashboard"},"Dashboard")),n.a.createElement("div",{className:"item"},n.a.createElement("div",{className:"ui button secondary",onClick:e.handleLogOut},"Log out"))):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"item"},n.a.createElement(A.b,{className:"ui button primary",to:"/signup"},"Sign Up")),n.a.createElement("div",{className:"item"},n.a.createElement(A.b,{className:"ui button primary",to:"/login"},"Log In")))},e}return Object(c.a)(r,[{key:"render",value:function(){return n.a.createElement("div",{className:"ui menu"},n.a.createElement(A.b,{to:"/"},n.a.createElement("img",{alt:"twstartups logo",src:t(232),style:{}})),n.a.createElement("div",{className:"right menu"},this.renderNav()))}}]),r}(n.a.Component),T=Object(m.b)((function(e){return{email:e.user.email}}),{logOut:function(){return{type:"LOG_OUT"}}})(U),V=t(9),D=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(l.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=a.call.apply(a,[this].concat(c))).renderError=function(e){var a=e.error,t=e.touched;e.active;if(t&&a)return n.a.createElement("div",{className:"ui error message"},n.a.createElement("div",{className:"header"},a))},e.renderServerErr=function(){if(e.props.errMsg)return n.a.createElement("div",{className:"ui error message"},n.a.createElement("div",{className:"header"},e.props.errMsg))},e.renderInput=function(a){var t=a.input,r=a.label,l=a.placeholder,c=a.meta,o=a.type,s="required field";return c.error&&c.touched&&(s="required field error"),"Other support meterial"===r&&(s="field"),n.a.createElement("div",{className:s},n.a.createElement("label",null,r),n.a.createElement("input",Object.assign({},t,{plazceholder:l,autoComplete:"off",type:o})),e.renderError(c))},e.onSubmit=function(a){console.log(a);var t=Object(i.a)(Object(i.a)({},a),{},{applicant:e.props.user._id});e.props.createCandi(t)},e}return Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"candidate-form"},n.a.createElement("div",{className:"ui grid container"},n.a.createElement("div",{className:"five wide column"}),n.a.createElement("div",{className:"six wide column"},n.a.createElement("form",{className:"ui form error",onSubmit:this.props.handleSubmit(this.onSubmit)},n.a.createElement("div",{className:"ui huge header"},"About your company..."),n.a.createElement("div",{className:"ui medium header"},"Basic Information"),n.a.createElement(N.a,{name:"company_name_en",component:this.renderInput,label:"Company Name in English",placeholder:"",type:"text"}),n.a.createElement(N.a,{name:"company_name_chi",component:this.renderInput,label:"Company Name in Chinese",placeholder:"",type:"text"}),n.a.createElement(N.a,{name:"company_email",component:this.renderInput,label:"Contact Email",placeholder:"",type:"tel"}),n.a.createElement("div",{className:"ui medium header"},"Supporting Resource for Review"),n.a.createElement(N.a,{name:"website",component:this.renderInput,label:"Company Website",placeholder:"",type:"text"}),n.a.createElement(N.a,{name:"news",component:this.renderInput,label:"News/Media link",placeholder:"",type:"text"}),n.a.createElement(N.a,{name:"other",component:this.renderInput,label:"Other support meterial",placeholder:"",type:"text"}),n.a.createElement("button",{className:"ui button",type:"submit"},"Submit"),this.renderServerErr())),n.a.createElement("div",{className:"five wide column"})))}}]),t}(n.a.Component),G=Object(O.a)({form:"candidateForm",validate:function(e){var a={};return e.company_name_en||(a.company_name_en="Please enter an English company name."),e.company_name_chi||(a.company_name_chi="Please enter a Chinese company name."),e.website||(a.website="Please provide a website."),e.news||(a.news="Please provide a news."),e.company_email||(a.company_email="Please enter an email."),e.company_email&&!e.company_email.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)&&(a.company_email="Please enter a valid email."),a}})(D),B=Object(m.b)((function(e){var a=e.form,t=e.candidate;return{user:e.user,formValues:a.candidateForm,errMsg:t.errMsg}}),{createCandi:function(e){return function(){var a=Object(d.a)(p.a.mark((function a(t){var r;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,v.post("",{formValues:e});case 3:r=a.sent,t({type:"CREATE_CANDI",payload:r.data}),g.push("/apply/success"),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),t({type:"CREATE_CANDI",payload:{err:a.t0.response.data.message}});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}})(G),H=function(e){Object(o.a)(t,e);var a=Object(s.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token");e&&this.props.fetchUser(e),console.log("api url","".concat("https://twstartups.herokuapp.com"))}},{key:"render",value:function(){return console.log("props in app",this.props.email),n.a.createElement(n.a.Fragment,null,n.a.createElement(T,null),n.a.createElement(V.c,null,n.a.createElement(V.a,{exact:!0,path:"/",component:x}),n.a.createElement(V.a,{path:"/signup",component:_}),n.a.createElement(V.a,{path:"/login",component:S}),n.a.createElement(V.a,{path:"/dashboard",component:I}),n.a.createElement(V.a,{exact:!0,path:"/admin/dashboard",component:L}),n.a.createElement(V.a,{exact:!0,path:"/apply",component:B}),n.a.createElement(V.a,{path:"/apply/success",component:R})))}}]),t}(n.a.Component),q=Object(m.b)((function(e){return{email:e.user.email}}),{fetchUser:function(e){return function(){var a=Object(d.a)(p.a.mark((function a(t){var r;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(e),a.next=3,h.get("./user/".concat(e));case 3:r=a.sent,t({type:"FETCH_USER",payload:r.data});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})(H),W=t(49),Y=t.n(W),J=(t(233),t(107)),X=t(7),z={email:null,_id:null,type:null,errMsg:null},$={errMsg:null,email:null,candidate:null,candidates:null},K=t(237),Q=Object(X.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SIGN_UP":case"LOG_IN":return a.payload.err?Object(i.a)(Object(i.a)({},e),{},{errMsg:a.payload.err}):(localStorage.setItem("token",a.payload.token),Object(i.a)(Object(i.a)({},e),a.payload.user));case"LOG_OUT":return localStorage.removeItem("token"),Object(i.a)({},z);case"ERR_MSG_RESET":return Object(i.a)(Object(i.a)({},e),{},{errMsg:null});case"FETCH_USER":return Object(i.a)(Object(i.a)({},e),a.payload.user);default:return e}},form:K.a,candidate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CREATE_CANDI":return a.payload.err?Object(i.a)(Object(i.a)({},e),{},{errMsg:a.payload.err}):Object(i.a)(Object(i.a)({},e),{},{candidate:a.payload.candidate,email:a.payload.candidate.company_email});case"FETCH_CANDIS":return a.payload.err?Object(i.a)(Object(i.a)({},e),{},{errMsg:a.payload.err}):(console.log("in reducer",a.payload.candidates),Object(i.a)(Object(i.a)({},e),{},{candidates:a.payload.candidates}));default:return e}}}),Z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||X.d,ee=Object(X.e)(Q,Z(Object(X.a)(J.a)));Y.a.render(n.a.createElement(m.a,{store:ee},n.a.createElement(A.a,{history:g},n.a.createElement(q,null))),document.getElementById("root"))}},[[108,1,2]]]);
//# sourceMappingURL=main.17408c28.chunk.js.map