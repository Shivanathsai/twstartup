(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{108:function(e,a,t){e.exports=t(234)},232:function(e,a,t){e.exports=t.p+"static/media/logo.fd873979.svg"},233:function(e,a,t){},234:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(16),o=t(17),s=t(19),l=t(18),i=t(8),u=function(e){Object(s.a)(t,e);var a=Object(l.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.gapi.load("client:auth2",(function(){window.gapi.client.init({clientId:"708463758106-0mgvmavhvulqpci65mglhkq8h30c25up.apps.googleusercontent.com",scope:"email"}).then((function(){e.auth=window.gapi.auth2.getAuthInstance(),e.onAuthChange(e.auth.isSignedIn.get()),e.auth.isSignedIn.listen(e.onAuthChange)}))}))}},{key:"renderAuthButton",value:function(){return n.a.createElement("button",{onClick:this.onSignInClick,className:"ui red google button"},n.a.createElement("i",{className:"google icon"}),"Sign in with GoogleAuth")}},{key:"render",value:function(){return n.a.createElement("div",null,this.renderAuthButton())}}]),t}(n.a.Component),m=(Object(i.b)((function(e){return{isSignedIn:e.auth.isSignedIn}}))(u),t(29)),p=t.n(m),d=t(50),h=t(105),v=t.n(h).a.create({baseURL:"http://localhost:8000"}),E=t(11),f=Object(E.b)(),b=function(){return{type:"ERR_MSG_RESET"}},g=t(236),O=t(235),y=function(e){Object(s.a)(t,e);var a=Object(l.a)(t);function t(){var e;Object(c.a)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=a.call.apply(a,[this].concat(o))).onSubmit=function(a){e.props.signUp(a)},e.renderError=function(e){var a=e.error,t=e.touched,r=e.active;if(t&&a)return!r&&a.confirmPassword,n.a.createElement("div",{className:"ui error message"},n.a.createElement("div",{className:"header"},a))},e.renderServerErr=function(){if(e.props.errMsg)return n.a.createElement("div",{className:"ui error message"},n.a.createElement("div",{className:"header"},e.props.errMsg))},e.renderInput=function(a){var t=a.input,r=a.label,c=a.placeholder,o=a.meta,s=a.type,l="required field ".concat(o.error&&o.touched?"error":"");return n.a.createElement("div",{className:l},n.a.createElement("label",null,r),n.a.createElement("input",Object.assign({},t,{placeholder:c,autoComplete:"off",type:s})),e.renderError(o))},e}return Object(o.a)(t,[{key:"componentWillUnmount",value:function(){this.props.errMsgReset()}},{key:"render",value:function(){return n.a.createElement("div",{className:"signup"},n.a.createElement("div",{className:"ui grid container "},n.a.createElement("div",{className:"three column row"},n.a.createElement("div",{className:"column"}),n.a.createElement("div",{className:"column"},n.a.createElement("form",{className:"ui form error",onSubmit:this.props.handleSubmit(this.onSubmit)},n.a.createElement("div",{className:"ui header"},"Signup"),n.a.createElement(g.a,{name:"email",component:this.renderInput,label:"Email",placeholder:"Email",type:"email"}),n.a.createElement(g.a,{name:"password",component:this.renderInput,label:"Password",placeholder:"Password",type:"password"}),n.a.createElement(g.a,{name:"confirmPassword",component:this.renderInput,label:"Confirm Password",placeholder:"Confirm Password",type:"password"}),n.a.createElement("button",{className:"ui button",type:"submit"},"Sign up"),this.renderServerErr())),n.a.createElement("div",{className:"column"})),n.a.createElement("div",{className:"three column row"},n.a.createElement("div",{className:"column"}),n.a.createElement("div",{className:"column"},n.a.createElement("div",{className:"ui divider"})),n.a.createElement("div",{className:"column"}))))}}]),t}(n.a.Component),N=Object(O.a)({form:"signUp",validate:function(e){var a={};return e.email||(a.email="You must enter an email."),e.password||(a.password="You must enter an password."),e.confirmPassword||(a.confirmPassword="Please confirm the password above."),e.password&&e.confirmPassword&&e.password!==e.confirmPassword&&(a.confirmPassword="Please make sure your password match."),a}})(y),w=Object(i.b)((function(e){var a=e.user;return{user:a,errMsg:a.errMsg}}),{signUp:function(e){return function(){var a=Object(d.a)(p.a.mark((function a(t){var r;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,v.post("./signup",{formValues:e});case 3:r=a.sent,t({type:"SIGN_UP",payload:r.data}),f.push("/"),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),t({type:"SIGN_UP",payload:{err:a.t0.response.data.message}});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},errMsgReset:b})(N),j=function(e){Object(s.a)(t,e);var a=Object(l.a)(t);function t(){var e;Object(c.a)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=a.call.apply(a,[this].concat(o))).onSubmit=function(a){e.props.logIn(a)},e.renderError=function(e){var a=e.error;if(e.touched&&a)return n.a.createElement("div",{className:"ui error message"},n.a.createElement("div",{className:"header"},a))},e.renderServerErr=function(){if(e.props.errMsg)return n.a.createElement("div",{className:"ui error message"},n.a.createElement("div",{className:"header"},e.props.errMsg))},e.renderInput=function(a){var t=a.input,r=a.label,c=a.placeholder,o=a.meta,s=a.type,l="required field ".concat(o.error&&o.touched?"error":"");return console.log("meta",o),n.a.createElement("div",{className:l},n.a.createElement("label",null,r),n.a.createElement("input",Object.assign({},t,{placeholder:c,autoComplete:"off",type:s})),e.renderError(o))},e}return Object(o.a)(t,[{key:"componentWillUnmount",value:function(){this.props.errMsgReset()}},{key:"render",value:function(){return console.log(this.props),n.a.createElement("div",{className:"login"},n.a.createElement("div",{className:"ui grid container "},n.a.createElement("div",{className:"three column row"},n.a.createElement("div",{className:"column"}),n.a.createElement("div",{className:"column"},n.a.createElement("form",{className:"ui form error",onSubmit:this.props.handleSubmit(this.onSubmit)},n.a.createElement("div",{className:"ui header"},"Log in"),n.a.createElement(g.a,{name:"email",component:this.renderInput,label:"Email",placeholder:"Email",type:"email"}),n.a.createElement(g.a,{name:"password",component:this.renderInput,label:"Password",placeholder:"Password",type:"password"}),n.a.createElement("button",{className:"ui button",type:"submit"},"Log in"),this.renderServerErr())),n.a.createElement("div",{className:"column"})),n.a.createElement("div",{className:"three column row"},n.a.createElement("div",{className:"column"}),n.a.createElement("div",{className:"column"},n.a.createElement("div",{className:"ui divider"})),n.a.createElement("div",{className:"column"}))))}}]),t}(n.a.Component),S=Object(O.a)({form:"logIn",validate:function(e){var a={};return e.email||(a.email="You must enter an email."),e.password||(a.password="You must enter an password."),a}})(j),I=Object(i.b)((function(e){var a=e.user;return{user:a,errMsg:a.errMsg}}),{logIn:function(e){return function(){var a=Object(d.a)(p.a.mark((function a(t){var r;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,v.post("./login",{formValues:e});case 3:r=a.sent,t({type:"LOG_IN",payload:r.data}),f.push("/"),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0.response.data.message),t({type:"LOG_IN",payload:{err:a.t0.response.data.message}});case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},errMsgReset:b})(S),k=function(){return n.a.createElement("div",null,n.a.createElement("h2",null,"This is Dashboard"))},_=function(e){Object(s.a)(t,e);var a=Object(l.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("h2",null,"This is CompanyList"),n.a.createElement("div",null,this.props.email?this.props.email:"no email"))}}]),t}(n.a.Component),M=Object(i.b)((function(e){return{email:e.user.email}}))(_),C=t(23),P=function(e){Object(s.a)(r,e);var a=Object(l.a)(r);function r(){var e;Object(c.a)(this,r);for(var t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return(e=a.call.apply(a,[this].concat(o))).handleLogOut=function(){e.props.logOut()},e.renderNav=function(){return e.props.email?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"item"},n.a.createElement(C.b,{className:"ui button primary",to:"/dashboard"},"Dashboard")),n.a.createElement("div",{className:"item"},n.a.createElement("div",{className:"ui button secondary",onClick:e.handleLogOut},"Log out"))):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"item"},n.a.createElement(C.b,{className:"ui button primary",to:"/signup"},"Sign Up")),n.a.createElement("div",{className:"item"},n.a.createElement(C.b,{className:"ui button primary",to:"/login"},"Log In")))},e}return Object(o.a)(r,[{key:"render",value:function(){return n.a.createElement("div",{className:"ui menu"},n.a.createElement(C.b,{to:"/"},n.a.createElement("img",{src:t(232),style:{}})),n.a.createElement("div",{className:"right menu"},this.renderNav()))}}]),r}(n.a.Component),U=Object(i.b)((function(e){return{email:e.user.email}}),{logOut:function(){return{type:"LOG_OUT"}}})(P),L=t(7),R=function(e){Object(s.a)(t,e);var a=Object(l.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token");e&&this.props.fetchUser(e)}},{key:"render",value:function(){return console.log("props in app",this.props.email),n.a.createElement(n.a.Fragment,null,n.a.createElement(U,null),n.a.createElement("h2",null,"Welcome ",this.props.email),n.a.createElement(L.c,null,n.a.createElement(L.a,{exact:!0,path:"/",component:M}),n.a.createElement(L.a,{path:"/signup",component:w}),n.a.createElement(L.a,{path:"/login",component:I}),n.a.createElement(L.a,{path:"/dashboard",component:k})))}}]),t}(n.a.Component),x=Object(i.b)((function(e){return{email:e.user.email}}),{fetchUser:function(e){return function(){var a=Object(d.a)(p.a.mark((function a(t){var r;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(e),a.next=3,v.get("./user/".concat(e));case 3:r=a.sent,t({type:"FETCH_USER",payload:r.data});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})(R),G=t(48),T=t.n(G),A=(t(233),t(107)),D=t(6),F=t(12),q={email:null,_id:null,errMsg:null},Y=t(237),B=Object(D.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SIGN_UP":case"LOG_IN":return a.payload.err?Object(F.a)(Object(F.a)({},e),{},{errMsg:a.payload.err}):(localStorage.setItem("token",a.payload.token),Object(F.a)(Object(F.a)({},e),a.payload.user));case"LOG_OUT":return localStorage.removeItem("token"),Object(F.a)({},q);case"ERR_MSG_RESET":return Object(F.a)(Object(F.a)({},e),{},{errMsg:null});case"FETCH_USER":return Object(F.a)(Object(F.a)({},e),a.payload.user);default:return e}},form:Y.a}),V=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||D.d,W=Object(D.e)(B,V(Object(D.a)(A.a)));T.a.render(n.a.createElement(i.a,{store:W},n.a.createElement(C.a,{history:f},n.a.createElement(x,null))),document.getElementById("root"))}},[[108,1,2]]]);
//# sourceMappingURL=main.d35672c5.chunk.js.map